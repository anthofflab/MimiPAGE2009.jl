<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model Validation · MimiPAGE2009.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">MimiPAGE2009.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../gettingstarted/">Getting started</a></li><li><a class="tocitem" href="../model-structure/">Model Structure</a></li><li><a class="tocitem" href="../technicaluserguide/">Technical User Guide</a></li><li class="is-active"><a class="tocitem" href>Model Validation</a><ul class="internal"><li><a class="tocitem" href="#Folder-Structure-1"><span>Folder Structure</span></a></li><li><a class="tocitem" href="#Deterministic-validations-1"><span>Deterministic validations</span></a></li><li><a class="tocitem" href="#Probabilistic-validation-1"><span>Probabilistic validation</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Model Validation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model Validation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/anthofflab/MimiPAGE2009.jl/blob/master/docs/src/validation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Validation-1"><a class="docs-heading-anchor" href="#Validation-1">Validation</a><a class="docs-heading-anchor-permalink" href="#Validation-1" title="Permalink"></a></h1><p>This guide briefly explains how Mimi PAGE results were validated against PAGE 2009 outputs.</p><p>Validations were performed for both the deterministic and probabilistic versions of the model. For the deterministic version of the model, both individual components and final outputs were validated. For the probabilistic version of the model, final outputs were validated.</p><h2 id="Folder-Structure-1"><a class="docs-heading-anchor" href="#Folder-Structure-1">Folder Structure</a><a class="docs-heading-anchor-permalink" href="#Folder-Structure-1" title="Permalink"></a></h2><p>Relevant tests and data are saved in the &#39;test&#39; folder. The folders are organized as follows.</p><p><strong>test</strong></p><p>Contains separate unit tests for the deterministic version of each of the individual model components.</p><p><strong>test/validationdata</strong></p><p>We obtained PAGE 2009 values from the Excel version of PAGE 2009, provided by Chris Hope (personal communication).</p><p>Running the Excel version of PAGE 2009 requires the @RISK 7.5 Industial software (available at http://go.palisade.com/RISKDownload.html), which facilitates probabilistic modeling in Excel. Free 15-day trials of the software are available</p><p>In order to perform tests of individual components, known values were extracted from PAGE &#39;09 or the PAGE written documentation. Where they were obtained from PAGE 2009, values were exported with full precision using a separate extraction tool. (Key values are saved in the <code>validationdata</code> folder within the <code>test</code> folder.) Truncating precision can lead to compounding errors which will cause Mimi PAGE results to diverge from PAGE 2009.</p><h2 id="Deterministic-validations-1"><a class="docs-heading-anchor" href="#Deterministic-validations-1">Deterministic validations</a><a class="docs-heading-anchor-permalink" href="#Deterministic-validations-1" title="Permalink"></a></h2><p>For each individual Mimi PAGE component, we tested the component with known input data and compared output with values from PAGE 2009. Nearly all values matched within 1%.</p><p>As an example of how a test file works, consider <code>test/test_CO2emissions</code>, which serves as a test for the <code>src/components/CO2emissions.jl</code> file.</p><p>First, we initialize the model and reference the relevant files (<code>src/utils/load_paramaters.jl</code> and, notably, <code>src/components/CO2emissions.jl</code>). Then we add the <code>CO2emissions</code> component to our model <code>m</code>.</p><pre><code class="language-none">using Mimi
using Test

include(&quot;../src/utils/load_parameters.jl&quot;)
include(&quot;../src/components/CO2emissions.jl&quot;)

m = Model()
set_dimension!(m, :time, [2009, 2010, 2020, 2030, 2040, 2050, 2075, 2100, 2150, 2200])
set_dimension!(m, :region, [&quot;EU&quot;, &quot;USA&quot;, &quot;OECD&quot;,&quot;USSR&quot;,&quot;China&quot;,&quot;SEAsia&quot;,&quot;Africa&quot;,&quot;LatAmerica&quot;])

add_comp!(m, co2emissions)</code></pre><p>Then we set the component inputs (baseline emissions and CO2 emissions growth) using exogenous values from PAGE 2009, which are saved in the data folder.</p><pre><code class="language-none">set_param!(m, :co2emissions, :e0_baselineCO2emissions, readpagedata(m, &quot;data/e0_baselineCO2emissions.csv&quot;))
set_param!(m, :co2emissions, :er_CO2emissionsgrowth, readpagedata(m, &quot;data/er_CO2emissionsgrowth.csv&quot;))</code></pre><p>Then we run our model, save the output to the <code>emissions</code> variable. We then load exogenous PAGE 2009 data on emissions into the <code>emissions_compare</code> variable. We test to see if the output from our model matches that from PAGE within 1e-3 precision (it does).</p><pre><code class="language-none">##running Model
run(m)

emissions = m[:co2emissions,  :e_regionalCO2emissions]

# Recorded data
emissions_compare = readpagedata(m, &quot;test/validationdata/e_regionalCO2emissions.csv&quot;)

@test emissions ≈ emissions_compare rtol=1e-3
</code></pre><p>The graph below shows the output from both PAGE 2009 and Mimi PAGE.</p><p><img src="../assets/co2graph.png" alt="CO2graph"/></p><h2 id="Probabilistic-validation-1"><a class="docs-heading-anchor" href="#Probabilistic-validation-1">Probabilistic validation</a><a class="docs-heading-anchor-permalink" href="#Probabilistic-validation-1" title="Permalink"></a></h2><p>For the probabilistic version of the model, we graphed and compared distributions of total damages, total preventative costs, total adaptation costs, and total effects.  Differences between quantiles of the distribution for 4 model end-point variables are shown in the graph below. Error bars show the 95% confidence interval associated with sampling uncertainty.</p><p>Distributions matched closely (&lt;1.5% difference) for all outputs, based on 100,000 runs.</p><p><img src="../assets/MC-validation.png" alt="MC-validation.JPG"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../technicaluserguide/">« Technical User Guide</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 15 July 2020 22:42">Wednesday 15 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
